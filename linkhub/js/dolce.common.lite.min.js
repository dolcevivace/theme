/* Dolce & Vivace
 * https://base.dolcevivace.com/
 * Copyright Dolce & Vivace
 */
function hexToRgba(e,t=.9){if(!e)return null;if(e=e.trim().replace(/^#/,"").toUpperCase(),3===e.length&&(e=e.split("").map(e=>e+e).join("")),!/^([A-F0-9]{6})$/.test(e))return null;let n=parseInt(e.substring(0,2),16),o=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return`rgba(${n}, ${o}, ${r}, ${t})`}function setCssVar(e,t,n=.9){let o=document.getElementById(e);if(!o)return;let r=o.textContent.trim(),s=hexToRgba(r,n);s&&document.documentElement.style.setProperty(t,s)}function hexToRgba(e,t=.9){if(!e)return null;if(e=e.trim().replace(/^#/,"").toUpperCase(),3===e.length&&(e=e.split("").map(e=>e+e).join("")),!/^([A-F0-9]{6})$/.test(e))return null;let n=parseInt(e.substring(0,2),16),o=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return`rgba(${n}, ${o}, ${r}, ${t})`}function determineSubtextColor(e){let t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);const r=(t+n+o)/3,s=r<128?.5:.7;return hexToRgba(e,s)}window.addEventListener("load",function(){setTimeout(function(){let e=document.querySelector("#footer-copyright .copyright"),t=document.querySelector("#modal-share .uk-modal-body"),n="1.0",o=document.createElement("span");o.innerHTML=`<span style="margin-left: 10px; margin-right: 10px; font-weight: normal;">|</span>Powered by <a href='https://linkhub.dolcevivace.com/'>LinkHub</a> v${n}`;let r=document.createElement("div");r.innerHTML=`Powered by <a href='https://linkhub.dolcevivace.com/'>LinkHub</a> v${n}`,r.style.cssText="margin-top: 30px; font-size: 11px; font-weight: bold;",e&&e.appendChild(o),t&&t.appendChild(r)},100)}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("header"),t=e?e.offsetHeight-45:0;document.querySelectorAll("a[href]").forEach(e=>{e.addEventListener("click",function(e){const n=this.getAttribute("href");if("#"!==n&&""!==n&&"#slide-menu"!==n){if(n.startsWith("#")){e.preventDefault();const o=n.substring(1),r=document.getElementById(o);if(r){const e=r.offsetTop-t;window.scrollTo({top:e,behavior:"smooth"})}}}else e.preventDefault()})})}),document.addEventListener("DOMContentLoaded",function(){setTimeout(function(){const e=document.getElementsByTagName("html")[0];e&&e.classList.add("wf-load")},3e3)}),document.addEventListener("DOMContentLoaded",function(){const e=document.body;if(e&&"shopTopPage"===e.id){const e=document.querySelector(".header-logo span.dolce_logo_size");if(e&&e.parentNode){const t=document.createElement("h1");e.parentNode.insertBefore(t,e),t.appendChild(e)}}}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("page-top");if(!e)return;let t,n;const o=()=>{const t=window.scrollY;window.innerWidth<959?e.style.display="none":t>500?e.classList.contains("btn-on")||(e.style.display="block",setTimeout(()=>{e.classList.remove("btn-off"),e.classList.add("btn-on")},10)):e.classList.contains("btn-on")&&(e.classList.remove("btn-on"),e.classList.add("btn-off"),e.addEventListener("transitionend",()=>{e.style.display="none"},{once:!0}))},r=e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})};window.addEventListener("scroll",()=>{n||(n=setTimeout(()=>{o(),n=null},100))}),o(),window.addEventListener("resize",()=>{t||(t=setTimeout(()=>{o(),t=null},200))}),e.addEventListener("click",r)});const setScrollbarWidth=()=>{const e=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.setProperty("--scrollbar",`${e}px`)},debounce=(e,t)=>{let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>e(...o),t)}};document.addEventListener("DOMContentLoaded",setScrollbarWidth),window.addEventListener("resize",debounce(setScrollbarWidth,200)),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("sns-template");if(!e)return;const t=Array.from(e.children),n={"menu-social":document.getElementById("menu-social"),"footer-social":document.getElementById("footer-social"),"about-social":document.getElementById("about-social")};Object.entries(n).forEach(([e,n])=>{n&&t.forEach(e=>{const t=e.cloneNode(!0);n.insertBefore(t,n.firstChild)})})}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("x_startMessenger");if(e){const e=document.getElementById("footer-copyright");e&&e.classList.add("messenger-padding")}}),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("bg-color");if(e){var t=e.textContent.trim();if(/^#([0-9A-Fa-f]{3}){1,2}$/.test(t)){4===t.length&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);var n=parseInt(t.substr(1,2),16),o=parseInt(t.substr(3,2),16),r=parseInt(t.substr(5,2),16),s=Math.round((299*n+587*o+114*r)/1e3);if(s<128){var c=document.querySelectorAll("#membership svg.exchange-point-icon");c.forEach(function(e){e.style.stroke="#ffffff"})}}}}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("a").forEach(function(e){""===e.getAttribute("href")&&(e.addEventListener("click",function(e){e.preventDefault()}),e.style.cursor="default",e.setAttribute("tabindex","-1"))})}),document.addEventListener("DOMContentLoaded",function(){setCssVar("bg-color","--dolce-bg-color",.9),setCssVar("btn-color","--dolce-btn-color",.9)}),document.addEventListener("DOMContentLoaded",function(){const e=getComputedStyle(document.documentElement).getPropertyValue("--dolce-text-color").trim(),t=determineSubtextColor(e);document.documentElement.style.setProperty("--dolce-subtext-color",t)}),document.addEventListener("DOMContentLoaded",function(){const e=window.location.href,t=document.querySelector("#urlDisplay"),n=document.querySelector("#copyButton");t.textContent=e,n.addEventListener("click",function(){navigator.clipboard.writeText(e).then(()=>{n.innerHTML='<span class="uk-margin-small-right" uk-icon="icon: check"></span>コピー完了！',setTimeout(()=>{n.innerHTML='<span class="uk-margin-small-right" uk-icon="icon: copy"></span>リンクをコピーする'},2e3)}).catch(e=>{console.error("コピーに失敗しました: ",e)})})}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("shareButton");e&&(navigator.share?e.addEventListener("click",function(){navigator.share({title:document.title,text:document.querySelector("meta[name='description']")?document.querySelector("meta[name='description']").getAttribute("content"):"",url:window.location.href}).catch(function(e){console.error("シェアに失敗しました: ",e)})}):e.addEventListener("click",function(){alert("このブラウザはシェア機能に対応していません。")}))}),document.addEventListener("DOMContentLoaded",function(){setTimeout(function(){var e=document.querySelectorAll("#footer-social #baseMenu a");e.forEach(function(e){e.classList.add("white-background")})},100)});